<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="output" />
</body>

<script type="text/javascript">
	var webSocket;
	var output = document.getElementById("output");

	function connect() {
		// open the connection if one does not exist
		if (webSocket !== undefined
				&& webSocket.readyState !== WebSocket.CLOSED) {
			return;
		}
		// Create a websocket
		webSocket = new WebSocket("ws://websocket:8080/app/time");

		webSocket.onopen = function(event) {

		};

		webSocket.onmessage = function(event) {
			updateOutput(event.data);
		};

		webSocket.onclose = function(event) {

		};
	}

	function closeSocket() {
		webSocket.close();
	}

	function updateOutput(text) {
		output.innerHTML = text;
	}

	document.addEventListener("DOMContentLoaded", function(){
        connect();
    }, false);

</script>
</html>
